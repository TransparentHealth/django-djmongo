{% extends "djmongo/console/base.html" %}
{% block Content %}

{% load i18n %}


<div class="container">
      <div class="row">
              <div class="col-lg-12">
                  <h1>{% trans "Saved Searches" %}</h1>
              </div>
      </div>

 <div class="row">
      <div class="col-lg-12">
           <a class="btn pull-left btn-primary btn-large" href="{% url 'djmongo_create_saved_search_w_params' database_name collection_name   %}">
            <i class="icon-plus-sign icon-white"></i> {% trans "New Saved Search in " %} {{database_name}} {{collection_name}}
            </a>
           <a class="btn pull-left btn-primary btn-large" href="{% url 'djmongo_create_saved_search' %}">
            <i class="icon-plus-sign icon-white"></i> {% trans "New Saved Search in Another Database/Collection" %}
            </a>
           
       </div>
 </div>     
      

<div class="row">
  <div class="col-lg-12">    
<table class="table">
   

<thead>
<tr>
<th>Title</th>
<th>Slug</th>
<th>Is Public</th>
<th>Group</th>
<th>Created By</th>
<th>Database/Collection</th>
<th>Query</th>
<th>Actions</th>

</tr>
</thead>
 
<tbody>


{% for s in  savedsearches %}

<tr class="success">
<td>{{s.title}}</td>
<td>{{s.slug}}</td>
<td>{{s.is_public}}</td>
<td>{{s.group}}</td>
<td>{{s.user.first_name}}  {{s.user.last_name}}  ({{s.user}})</td>
<td>{{s.database_name}}/{{s.collection_name}}</td>
<td><pre>{{s.query}}</pre></td>
<td>
            
            <a class="btn pull-left btn-success btn-xs" target=_blank href="{% url 'djmongo_run_saved_search_by_slug' s.slug %}">
            <i class="icon-search  icon-white"></i> Run</a>           
     
            <a class="btn pull-left btn-primary btn-xs" href="{% url 'djmongo_edit_saved_search_by_slug' s.slug %}">
            <i class="icon-edit  icon-white"></i> Edit</a>
            
            <a class="btn pull-left btn-danger btn-xs" href="{% url 'djmongo_delete_saved_search_by_slug' s.slug %}">
            <i class="icon-remove-sign  icon-white"></i> Delete</a>
</td>

</tr>
{% endfor %}

</tbody>

    </table>

 </div>    
    
</div>
</div>

{% endblock %}